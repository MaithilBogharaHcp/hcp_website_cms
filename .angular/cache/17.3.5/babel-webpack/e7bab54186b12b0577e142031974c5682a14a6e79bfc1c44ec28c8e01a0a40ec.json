{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./layout7.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./layout7.component.css?ngResource\";\nimport { ChangeDetectorRef, Component, ElementRef, EventEmitter, HostListener, Input, Output } from '@angular/core';\nimport { CarouselModule } from 'primeng/carousel';\nimport { TagModule } from 'primeng/tag';\nimport { ButtonModule } from 'primeng/button';\nimport { CommonModule } from '@angular/common';\nimport { environment } from '../../../../../environments/environment.development';\nimport { FormsModule } from '@angular/forms';\nimport { ButtonComponent } from '../../button/button.component';\nimport { SliderImageSelectComponent } from '../slider-image-select/slider-image-select.component';\nlet Layout7Component = class Layout7Component {\n  constructor(elementRef, cdr) {\n    this.elementRef = elementRef;\n    this.cdr = cdr;\n    this.isVisible = false;\n    this.imageUrl = environment.image_url_server;\n    this.selectedImageData = null;\n    this.imageChange = new EventEmitter();\n  }\n  onWindowScroll() {}\n  ngOnInit() {}\n  get isCircular() {\n    return this.data && this.data.length > 1;\n  }\n  isBase64(imagePath) {\n    return typeof imagePath === 'string' && imagePath.startsWith('data:image/') || imagePath.startsWith('../../../../../');\n    // return typeof imagePath === 'string' && imagePath.startsWith('data:image/') || imagePath.startsWith('./')\n  }\n  scrollToCenter(event) {\n    const clickedElement = event.target;\n    const isIndicatorClicked1 = clickedElement.classList.contains('p-carousel-prev') || clickedElement.parentElement && clickedElement.parentElement.classList.contains('p-carousel-prev');\n    if (!clickedElement.classList.contains('img-list')) {\n      const carousel = this.elementRef.nativeElement.querySelector('.p-carousel-item');\n      if (carousel) {\n        const rect = carousel.getBoundingClientRect();\n        const topOffset = rect.top + window.pageYOffset;\n        const middleOfElement = topOffset - 20 + rect.height / 2;\n        const windowHeight = window.innerHeight;\n        const scrollY = middleOfElement - 20 - windowHeight / 2;\n        window.scrollTo({\n          top: scrollY,\n          behavior: 'smooth'\n        });\n      }\n    } else {\n      const rect = clickedElement.getBoundingClientRect();\n      const topOffset = rect.top + window.pageYOffset;\n      const middleOfElement = topOffset + rect.height / 2;\n      const windowHeight = window.innerHeight;\n      const scrollY = middleOfElement - windowHeight / 2;\n      window.scrollTo({\n        top: scrollY,\n        behavior: 'smooth'\n      });\n    }\n  }\n  stopPropagation(event) {\n    event.stopPropagation();\n  }\n  openAddLayoutDialog() {\n    this.isVisible = !this.isVisible;\n  }\n  imageSelectPopUp(data) {\n    this.selectedImageData = data;\n    this.isVisible = true;\n  }\n  onImageChange(event) {\n    const {\n      file,\n      index\n    } = event;\n    const updatedData = {\n      ...this.data[index],\n      image: file.image,\n      drawing_captions: file.drawing_captions\n    };\n    this.imageChange.emit({\n      file: updatedData,\n      index\n    });\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: ElementRef\n  }, {\n    type: ChangeDetectorRef\n  }];\n  static #_2 = this.propDecorators = {\n    isEdit: [{\n      type: Input,\n      args: [{\n        required: true\n      }]\n    }],\n    id: [{\n      type: Input,\n      args: [{\n        required: true\n      }]\n    }],\n    data: [{\n      type: Input\n    }],\n    captions: [{\n      type: Input\n    }],\n    onWindowScroll: [{\n      type: HostListener,\n      args: ['window:scroll', []]\n    }],\n    imageChange: [{\n      type: Output\n    }]\n  };\n};\nLayout7Component = __decorate([Component({\n  selector: 'app-layout7',\n  standalone: true,\n  imports: [CarouselModule, TagModule, ButtonModule, CommonModule, FormsModule, ButtonComponent, SliderImageSelectComponent],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], Layout7Component);\nexport { Layout7Component };","map":{"version":3,"names":["ChangeDetectorRef","Component","ElementRef","EventEmitter","HostListener","Input","Output","CarouselModule","TagModule","ButtonModule","CommonModule","environment","FormsModule","ButtonComponent","SliderImageSelectComponent","Layout7Component","constructor","elementRef","cdr","isVisible","imageUrl","image_url_server","selectedImageData","imageChange","onWindowScroll","ngOnInit","isCircular","data","length","isBase64","imagePath","startsWith","scrollToCenter","event","clickedElement","target","isIndicatorClicked1","classList","contains","parentElement","carousel","nativeElement","querySelector","rect","getBoundingClientRect","topOffset","top","window","pageYOffset","middleOfElement","height","windowHeight","innerHeight","scrollY","scrollTo","behavior","stopPropagation","openAddLayoutDialog","imageSelectPopUp","onImageChange","file","index","updatedData","image","drawing_captions","emit","_","args","required","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sources":["D:\\Maithil\\website-cms\\src\\app\\components\\common\\layouts\\layout7-P\\layout7.component.ts"],"sourcesContent":["import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n} from '@angular/core';\r\nimport { CarouselModule } from 'primeng/carousel';\r\nimport { TagModule } from 'primeng/tag';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { CommonModule } from '@angular/common';\r\nimport { environment } from '../../../../../environments/environment.development';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ButtonComponent } from '../../button/button.component';\r\nimport { SliderImageSelectComponent } from '../slider-image-select/slider-image-select.component';\r\n\r\ninterface Caption {\r\n  captions: string;\r\n}\r\ninterface FileWithIndex {\r\n  file: File;\r\n  index: number;\r\n}\r\n@Component({\r\n  selector: 'app-layout7',\r\n  standalone: true,\r\n  imports: [\r\n    CarouselModule,\r\n    TagModule,\r\n    ButtonModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ButtonComponent,\r\n    SliderImageSelectComponent,\r\n  ],\r\n  templateUrl: './layout7.component.html',\r\n  styleUrl: './layout7.component.css',\r\n})\r\nexport class Layout7Component implements OnInit {\r\n\r\n  constructor(private elementRef: ElementRef, private cdr: ChangeDetectorRef) {}\r\n\r\n  isVisible: boolean = false;\r\n  @Input({ required: true }) isEdit: any;\r\n  @Input({ required: true }) id: any;\r\n  @Input() data!: any[];\r\n  @Input() captions!: Caption[];\r\n  imageUrl = environment.image_url_server;\r\n  selectedImageData: any = null;\r\n  @HostListener('window:scroll', [])\r\n  onWindowScroll() {}\r\n  ngOnInit(): void {\r\n  }\r\n  @Output() imageChange = new EventEmitter<any>();\r\n\r\n  get isCircular(): boolean {\r\n    return this.data && this.data.length > 1;\r\n  }\r\n  \r\n  isBase64(imagePath: any): boolean {\r\n    return typeof imagePath === 'string' && imagePath.startsWith('data:image/') || imagePath.startsWith('../../../../../')\r\n    // return typeof imagePath === 'string' && imagePath.startsWith('data:image/') || imagePath.startsWith('./')\r\n  }\r\n\r\n  scrollToCenter(event: any): void {\r\n    const clickedElement = event.target as HTMLElement;\r\n    const isIndicatorClicked1 =\r\n      clickedElement.classList.contains('p-carousel-prev') ||\r\n      (clickedElement.parentElement &&\r\n        clickedElement.parentElement.classList.contains('p-carousel-prev'));\r\n    if (!clickedElement.classList.contains('img-list')) {\r\n      const carousel =\r\n        this.elementRef.nativeElement.querySelector('.p-carousel-item');\r\n      if (carousel) {\r\n        const rect = carousel.getBoundingClientRect();\r\n        const topOffset = rect.top + window.pageYOffset;\r\n        const middleOfElement = topOffset - 20 + rect.height / 2;\r\n\r\n        const windowHeight = window.innerHeight;\r\n        const scrollY = middleOfElement - 20 - windowHeight / 2;\r\n\r\n        window.scrollTo({\r\n          top: scrollY,\r\n          behavior: 'smooth',\r\n        });\r\n      }\r\n    } else {\r\n      const rect = clickedElement.getBoundingClientRect();\r\n      const topOffset = rect.top + window.pageYOffset;\r\n\r\n      const middleOfElement = topOffset + rect.height / 2;\r\n      const windowHeight = window.innerHeight;\r\n      const scrollY = middleOfElement - windowHeight / 2;\r\n      window.scrollTo({\r\n        top: scrollY,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  stopPropagation(event: Event) {\r\n    event.stopPropagation();\r\n  }\r\n\r\n  openAddLayoutDialog() {\r\n    this.isVisible = !this.isVisible;\r\n  }\r\n  \r\n  imageSelectPopUp(data: any) {\r\n    this.selectedImageData = data;\r\n    this.isVisible = true;\r\n  }\r\n\r\n  onImageChange(event: any) {\r\n    const { file, index } = event;\r\n\r\n    const updatedData = {\r\n      ...this.data[index],\r\n      image: file.image,\r\n      drawing_captions: file.drawing_captions,\r\n    };\r\n    this.imageChange.emit({ file: updatedData, index });\r\n  }\r\n\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./architecture-project-page.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./architecture-project-page.component.css?ngResource\";\nimport { ChangeDetectorRef, Component } from '@angular/core';\nimport { TopbarComponent } from '../../shared/topbar/topbar.component';\nimport { Layout4Component } from '../../common/layouts/layout4-P/layout4.component';\nimport { GeneralServicesService } from '../../../services/general-services.service';\nimport { NgxSpinnerModule, NgxSpinnerService } from 'ngx-spinner';\nimport { Router } from '@angular/router';\nimport { Layout12Component } from '../../common/layouts/layout12-P/layout12.component';\nimport { Layout6Component } from '../../common/layouts/layout6-P/layout6.component';\nimport { Layout13Component } from '../../common/layouts/layout13-P/layout13.component';\nimport { Layout15Component } from '../../common/layouts/layout15-P/layout15.component';\nimport { Layout14Component } from '../../common/layouts/layout14-P/layout14.component';\nimport { Layout16Component } from '../../common/layouts/layout16-P/layout16.component';\nimport { Layout18Component } from '../../common/layouts/layout18-p/layout18.component';\nimport { Layout7Component } from '../../common/layouts/layout7-P/layout7.component';\nimport { Layout8Component } from '../../common/layouts/layout8-P/layout8.component';\nimport { Layout17Component } from '../../common/layouts/layout17-P/layout17.component';\nimport { Layout5Component } from '../../common/layouts/layout5-P/layout5.component';\nimport { LayoutDialogComponent } from '../../common/dialog/layout-dialog/layout-dialog.component';\nimport { EditLayoutComponent } from '../../common/dialog/edit-layout/edit-layout.component';\nimport { CmsTopbarComponent } from '../../shared/cms-topbar/cms-topbar.component';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { faPen, faTrash, faUpDown } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { CdkDrag, CdkDragPlaceholder, CdkDropList, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { DeleteLayoutComponent } from '../../common/dialog/delete-layout/delete-layout.component';\nimport { ToasterService } from '../../../services/toaster.service';\nimport { MessageService } from 'primeng/api';\nimport { ToastModule } from 'primeng/toast';\nimport { Layout31Component } from '../../common/layouts/layout31/layout31.component';\nimport { FooterComponent } from '../../shared/footer/footer.component';\nlet ArchitectureProjectPageComponent = class ArchitectureProjectPageComponent {\n  constructor(service, spinner, router, cdr, msgService) {\n    this.service = service;\n    this.spinner = spinner;\n    this.router = router;\n    this.cdr = cdr;\n    this.msgService = msgService;\n    this.draggable = true;\n    this.faPen = faPen;\n    this.faTrash = faTrash;\n    this.faUpDown = faUpDown;\n    this.isEdit = true;\n    this.isSideBar = false;\n    this.isAddLayoutPopupVisible = false;\n    this.isEditLayoutVisible = false;\n    this.isVisible = false;\n    this.hasChanges = false;\n    this.addedLayouts = [];\n    this.selectedLayout = null;\n    this.selectedLayoutToDelete = null;\n    this.selectedLayoutToReplace = null;\n    this.layoutArray = [{\n      layout_id: '4',\n      image: '../../../../assets/Layouts/layout4.jpg'\n    },\n    // { layout_id: '5', image: '../../../../assets/Layouts/layout5.jpg' },\n    {\n      layout_id: '7',\n      image: '../../../../assets/Layouts/layout6.jpg'\n    }, {\n      layout_id: '14',\n      image: '../../../../assets/Layouts/layout7.jpg'\n    }, {\n      layout_id: '6',\n      image: '../../../../assets/Layouts/layout12.jpg'\n    }, {\n      layout_id: '8',\n      image: '../../../../assets/Layouts/layout13.jpg'\n    }, {\n      layout_id: '10',\n      image: '../../../../assets/Layouts/layout14.jpg'\n    }, {\n      layout_id: '9',\n      image: '../../../../assets/Layouts/layout15.jpg'\n    }, {\n      layout_id: '11',\n      image: '../../../../assets/Layouts/layout16.jpg'\n    }, {\n      layout_id: '15',\n      image: '../../../../assets/Layouts/layout17.jpg'\n    }, {\n      layout_id: '12',\n      image: '../../../../assets/Layouts/layout18.jpg'\n    }, {\n      layout_id: '31',\n      image: '../../../../assets/Layouts/layout31.jpg'\n    }];\n  }\n  // layoutArray: any[] = [\n  //   { layout_id: '4', image: './assets/Layouts/layout4.jpg' },\n  //   // { layout_id: '5', image: './assets/Layouts/layout5.jpg' },\n  //   { layout_id: '7', image: './assets/Layouts/layout6.jpg' },\n  //   { layout_id: '14', image: './assets/Layouts/layout7.jpg' },\n  //   { layout_id: '6', image: './assets/Layouts/layout12.jpg' },\n  //   { layout_id: '8', image: './assets/Layouts/layout13.jpg' },\n  //   { layout_id: '10', image: './assets/Layouts/layout14.jpg' },\n  //   { layout_id: '9', image: './assets/Layouts/layout15.jpg' },\n  //   { layout_id: '11', image: './assets/Layouts/layout16.jpg' },\n  //   { layout_id: '15', image: './assets/Layouts/layout17.jpg' },\n  //   { layout_id: '12', image: './assets/Layouts/layout18.jpg' },\n  //   { layout_id: '31', image: './assets/Layouts/layout31.jpg' },\n  // ];\n  ngOnInit() {\n    this.fetchData();\n  }\n  fetchData() {\n    this.spinner.show();\n    this.service.getArchitectureprojectPageData(this.router.url.split('/')[2]).subscribe(data => {\n      this.architectureProjects = data.data;\n      this.architectureProjects.forEach((i, pIndex) => {\n        i.layouts.map((a, layoutIndex) => {\n          a.slider.map((sl, slIndex) => {\n            const caption = a.captions[slIndex] ? a.captions[slIndex][0] : '';\n            sl.drawing_captions = caption;\n          });\n        });\n      });\n      this.spinner.hide();\n    });\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n  openDeleteLayoutDialog(index) {\n    if (index !== undefined && index !== null) {\n      this.selectedLayoutToDelete = {\n        index\n      };\n      this.isVisible = !this.isVisible;\n    } else {\n      this.isVisible = false;\n    }\n  }\n  onLayoutDelete() {\n    const {\n      index\n    } = this.selectedLayoutToDelete;\n    this.spinner.show();\n    this.architectureProjects.splice(index, 1);\n    this.hasChanges = true;\n    this.spinner.hide();\n    this.isVisible = false;\n  }\n  onLayoutSelected(layoutId) {\n    const selectedLayout = this.layoutArray.find(layout => layout.layout_id === layoutId.toString());\n    if (selectedLayout) {\n      let newLayout;\n      if (layoutId === '14') {\n        newLayout = {\n          ar_project_image_id: ``,\n          layout_id: selectedLayout.layout_id,\n          project_image: [''],\n          slider: [{\n            image: '../../../../../assets/Layouts/layout7.jpg'\n            // image: './assets/Layouts/layout7.jpg',\n          }],\n          captions: [['.']]\n        };\n      } else if (layoutId === '31') {\n        newLayout = {\n          ar_project_image_id: ``,\n          layout_id: selectedLayout.layout_id,\n          project_image: ['../../../../../assets/Layouts/layout31.jpg'],\n          // project_image: ['./assets/Layouts/layout31.jpg'],\n          slider: [],\n          captions: []\n        };\n      } else {\n        newLayout = {\n          ar_project_image_id: ``,\n          layout_id: selectedLayout.layout_id,\n          project_image: [''],\n          slider: [],\n          captions: []\n        };\n      }\n      if (this.architectureProjects.length > 0) {\n        this.architectureProjects.push({\n          layouts: [newLayout]\n        });\n        this.hasChanges = true;\n      }\n      this.selectedLayout = null;\n      this.closeEditLayoutDialog();\n    }\n  }\n  onLayoutReplaceSelected(event) {\n    if (this.selectedLayoutToReplace) {\n      const {\n        index,\n        ar_project_image_id\n      } = this.selectedLayoutToReplace;\n      const selectedLayout = this.layoutArray.find(layout => layout.layout_id === event);\n      if (selectedLayout.layout_id === '14') {\n        this.architectureProjects[index].layouts = [{\n          ar_project_image_id: ar_project_image_id,\n          layout_id: selectedLayout.layout_id,\n          project_image: [],\n          slider: [{\n            image: '../../../../../assets/Layouts/layout7.jpg'\n            // image: './assets/Layouts/layout7.jpg',\n          }],\n          captions: []\n        }];\n      } else if (selectedLayout.layout_id === '31') {\n        this.architectureProjects[index].layouts = [{\n          ar_project_image_id: ar_project_image_id,\n          layout_id: selectedLayout.layout_id,\n          project_image: ['../../../../../assets/Layouts/layout31.jpg'],\n          // project_image: ['./assets/Layouts/layout31.jpg'],\n          slider: [],\n          captions: []\n        }];\n      } else {\n        this.architectureProjects[index].layouts = [{\n          ar_project_image_id: ar_project_image_id,\n          layout_id: selectedLayout.layout_id,\n          project_image: [],\n          slider: [],\n          captions: []\n        }];\n      }\n      this.hasChanges = true;\n    }\n    this.closeEditLayoutDialog();\n  }\n  onFilesVideoSelected(files, index, layoutId) {\n    const fileArray = Array.isArray(files) ? files : [files];\n    const reader = new FileReader();\n    fileArray.forEach((file, fileIndex) => {\n      reader.onload = () => {\n        const videoUrl = reader.result;\n        // Update the project with the new video URL\n        this.architectureProjects.forEach((project, projectIndex) => {\n          project.layouts.forEach((layout, layoutIndex) => {\n            if (layout.layout_id === layoutId) {\n              if (projectIndex === index) {\n                layout.project_image[0] = videoUrl;\n                this.hasChanges = true;\n              }\n            }\n          });\n        });\n        this.cdr.detectChanges();\n      };\n      reader.readAsDataURL(file);\n    });\n  }\n  openEditLayoutDialog(index) {\n    const ar_project_image_id = this.architectureProjects[index].layouts[0].ar_project_image_id;\n    this.selectedLayoutToReplace = {\n      index,\n      ar_project_image_id\n    };\n    this.isEditLayoutVisible = !this.isEditLayoutVisible;\n  }\n  closeEditLayoutDialog() {\n    this.isEditLayoutVisible = false;\n    this.isAddLayoutPopupVisible = false;\n  }\n  changeMode() {\n    this.isEdit = !this.isEdit;\n  }\n  openAddLayoutDialog() {\n    this.isAddLayoutPopupVisible = !this.isAddLayoutPopupVisible;\n  }\n  onClickNavigate(id) {\n    this.router.navigate([id]);\n  }\n  onFilesSelected(files, index, layoutId) {\n    const fileArray = Array.isArray(files) ? files : [files];\n    const reader = new FileReader();\n    fileArray.forEach((file, fileIndex) => {\n      reader.onload = () => {\n        const imageUrl = reader.result;\n        this.architectureProjects.forEach((project, projectIndex) => {\n          project.layouts.forEach((layout, layoutIndex) => {\n            if (layout.layout_id === layoutId) {\n              if (projectIndex === index) {\n                layout.project_image[0] = imageUrl;\n                this.hasChanges = true;\n              }\n            }\n          });\n        });\n        this.cdr.detectChanges();\n      };\n      reader.readAsDataURL(file);\n    });\n  }\n  onFilesSelectedLayout(fileWithIndex, index, layoutId) {\n    const file = fileWithIndex.file;\n    const index1 = fileWithIndex.index;\n    const reader = new FileReader();\n    reader.onload = () => {\n      const imageUrl = reader.result;\n      this.architectureProjects.forEach((project, projectIndex) => {\n        project.layouts.forEach((layout, layoutIndex) => {\n          if (layout.layout_id === layoutId) {\n            if (projectIndex === index) {\n              layout.project_image[index1] = imageUrl;\n              this.hasChanges = true;\n            }\n          }\n        });\n      });\n      this.cdr.detectChanges();\n    };\n    reader.readAsDataURL(file);\n  }\n  onImageChange(event) {\n    const {\n      file,\n      index\n    } = event;\n    const updatedProject = this.architectureProjects[index];\n    if (updatedProject) {\n      const layoutIndex = updatedProject.layouts.findIndex(layout => layout.layout_id === file.layout_id);\n      if (layoutIndex !== -1) {\n        updatedProject.layouts[layoutIndex] = {\n          ...updatedProject.layouts[layoutIndex],\n          image: file.image,\n          drawing_captions: file.drawing_captions\n        };\n      }\n      this.hasChanges = true;\n      this.architectureProjects = [...this.architectureProjects];\n      this.cdr.detectChanges();\n    }\n  }\n  changeTitle(event) {\n    this.hasChanges = true;\n    this.architectureProjects[event.index].project_name = event.title;\n  }\n  changeDescription(event) {\n    this.hasChanges = true;\n    this.architectureProjects[event.index].project_description = event.description.replace(/Â/g, '');\n  }\n  changeYear(event) {\n    this.hasChanges = true;\n    this.architectureProjects[event.index].project_year = event.year;\n  }\n  changeClient(event) {\n    this.hasChanges = true;\n    this.architectureProjects[event.index].project_client = event.client;\n  }\n  areasChange(event, index) {\n    this.hasChanges = true;\n    this.architectureProjects[index].title = event.value;\n  }\n  builtupChange(event) {\n    this.hasChanges = true;\n    this.architectureProjects[event.index].project_built_up_area = event.built_up_area;\n  }\n  onTagsChange(updatedTags, index) {\n    if (Array.isArray(updatedTags)) {\n      const tagsString = updatedTags[0];\n      if (typeof tagsString === 'string') {\n        const tagsArray = tagsString.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0);\n        this.hasChanges = true;\n        this.architectureProjects[index].tags = tagsArray;\n      }\n    }\n  }\n  onPublish() {\n    this.hasChanges = false;\n    this.spinner.show();\n    this.service.postARPojectPageData(this.architectureProjects).subscribe(data => {\n      if (data.message === 'success') {\n        this.msgService.successToaster('Uploaded successfully');\n        this.fetchData();\n        this.spinner.hide();\n      }\n    });\n  }\n  sideBarToogle() {\n    this.isSideBar = !this.isSideBar;\n  }\n  activeHover() {\n    this.draggable = false;\n  }\n  inactiveHover() {\n    this.draggable = true;\n  }\n  drop(event) {\n    moveItemInArray(this.architectureProjects, event.previousIndex, event.currentIndex);\n  }\n  toTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: GeneralServicesService\n  }, {\n    type: NgxSpinnerService\n  }, {\n    type: Router\n  }, {\n    type: ChangeDetectorRef\n  }, {\n    type: ToasterService\n  }];\n};\nArchitectureProjectPageComponent = __decorate([Component({\n  selector: 'app-architecture-project-page',\n  standalone: true,\n  template: __NG_CLI_RESOURCE__0,\n  imports: [TopbarComponent, CommonModule, LayoutDialogComponent, EditLayoutComponent, NgxSpinnerModule, Layout4Component, Layout12Component, Layout6Component, Layout13Component, Layout15Component, Layout14Component, Layout16Component, Layout18Component, Layout7Component, Layout8Component, Layout17Component, Layout31Component, Layout5Component, CmsTopbarComponent, FormsModule, FontAwesomeModule, CdkDropList, CdkDrag, CdkDragPlaceholder, DeleteLayoutComponent, ToastModule, FooterComponent],\n  providers: [ToasterService, MessageService],\n  styles: [__NG_CLI_RESOURCE__1]\n})], ArchitectureProjectPageComponent);\nexport { ArchitectureProjectPageComponent };","map":{"version":3,"names":["ChangeDetectorRef","Component","TopbarComponent","Layout4Component","GeneralServicesService","NgxSpinnerModule","NgxSpinnerService","Router","Layout12Component","Layout6Component","Layout13Component","Layout15Component","Layout14Component","Layout16Component","Layout18Component","Layout7Component","Layout8Component","Layout17Component","Layout5Component","LayoutDialogComponent","EditLayoutComponent","CmsTopbarComponent","CommonModule","FormsModule","faPen","faTrash","faUpDown","FontAwesomeModule","CdkDrag","CdkDragPlaceholder","CdkDropList","moveItemInArray","DeleteLayoutComponent","ToasterService","MessageService","ToastModule","Layout31Component","FooterComponent","ArchitectureProjectPageComponent","constructor","service","spinner","router","cdr","msgService","draggable","isEdit","isSideBar","isAddLayoutPopupVisible","isEditLayoutVisible","isVisible","hasChanges","addedLayouts","selectedLayout","selectedLayoutToDelete","selectedLayoutToReplace","layoutArray","layout_id","image","ngOnInit","fetchData","show","getArchitectureprojectPageData","url","split","subscribe","data","architectureProjects","forEach","i","pIndex","layouts","map","a","layoutIndex","slider","sl","slIndex","caption","captions","drawing_captions","hide","window","scrollTo","top","behavior","openDeleteLayoutDialog","index","undefined","onLayoutDelete","splice","onLayoutSelected","layoutId","find","layout","toString","newLayout","ar_project_image_id","project_image","length","push","closeEditLayoutDialog","onLayoutReplaceSelected","event","onFilesVideoSelected","files","fileArray","Array","isArray","reader","FileReader","file","fileIndex","onload","videoUrl","result","project","projectIndex","detectChanges","readAsDataURL","openEditLayoutDialog","changeMode","openAddLayoutDialog","onClickNavigate","id","navigate","onFilesSelected","imageUrl","onFilesSelectedLayout","fileWithIndex","index1","onImageChange","updatedProject","findIndex","changeTitle","project_name","title","changeDescription","project_description","description","replace","changeYear","project_year","year","changeClient","project_client","client","areasChange","value","builtupChange","project_built_up_area","built_up_area","onTagsChange","updatedTags","tagsString","tagsArray","tag","trim","filter","tags","onPublish","postARPojectPageData","message","successToaster","sideBarToogle","activeHover","inactiveHover","drop","previousIndex","currentIndex","toTop","_","__decorate","selector","standalone","template","__NG_CLI_RESOURCE__0","imports","providers"],"sources":["D:\\Maithil\\website-cms\\src\\app\\components\\pages\\architecture-project-page\\architecture-project-page.component.ts"],"sourcesContent":["interface FileWithIndex {\r\n  file: File;\r\n  index: number;\r\n}\r\n\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { TopbarComponent } from '../../shared/topbar/topbar.component';\r\nimport { Layout4Component } from '../../common/layouts/layout4-P/layout4.component';\r\nimport { GeneralServicesService } from '../../../services/general-services.service';\r\nimport { NgxSpinnerModule, NgxSpinnerService } from 'ngx-spinner';\r\nimport { Router } from '@angular/router';\r\nimport { Layout12Component } from '../../common/layouts/layout12-P/layout12.component';\r\nimport { Layout6Component } from '../../common/layouts/layout6-P/layout6.component';\r\nimport { Layout13Component } from '../../common/layouts/layout13-P/layout13.component';\r\nimport { Layout15Component } from '../../common/layouts/layout15-P/layout15.component';\r\nimport { Layout14Component } from '../../common/layouts/layout14-P/layout14.component';\r\nimport { Layout16Component } from '../../common/layouts/layout16-P/layout16.component';\r\nimport { Layout18Component } from '../../common/layouts/layout18-p/layout18.component';\r\nimport { Layout7Component } from '../../common/layouts/layout7-P/layout7.component';\r\nimport { Layout8Component } from '../../common/layouts/layout8-P/layout8.component';\r\nimport { Layout17Component } from '../../common/layouts/layout17-P/layout17.component';\r\nimport { Layout5Component } from '../../common/layouts/layout5-P/layout5.component';\r\nimport { LayoutDialogComponent } from '../../common/dialog/layout-dialog/layout-dialog.component';\r\nimport { EditLayoutComponent } from '../../common/dialog/edit-layout/edit-layout.component';\r\nimport { CmsTopbarComponent } from '../../shared/cms-topbar/cms-topbar.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { faPen, faTrash, faUpDown } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport {\r\n  CdkDrag,\r\n  CdkDragDrop,\r\n  CdkDragPlaceholder,\r\n  CdkDropList,\r\n  moveItemInArray,\r\n} from '@angular/cdk/drag-drop';\r\nimport { DeleteLayoutComponent } from '../../common/dialog/delete-layout/delete-layout.component';\r\nimport { ToasterService } from '../../../services/toaster.service';\r\nimport { MessageService } from 'primeng/api';\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { Layout31Component } from '../../common/layouts/layout31/layout31.component';\r\nimport { FooterComponent } from '../../shared/footer/footer.component';\r\n\r\n@Component({\r\n  selector: 'app-architecture-project-page',\r\n  standalone: true,\r\n  templateUrl: './architecture-project-page.component.html',\r\n  styleUrl: './architecture-project-page.component.css',\r\n  imports: [\r\n    TopbarComponent,\r\n    CommonModule,\r\n    LayoutDialogComponent,\r\n    EditLayoutComponent,\r\n    NgxSpinnerModule,\r\n    Layout4Component,\r\n    Layout12Component,\r\n    Layout6Component,\r\n    Layout13Component,\r\n    Layout15Component,\r\n    Layout14Component,\r\n    Layout16Component,\r\n    Layout18Component,\r\n    Layout7Component,\r\n    Layout8Component,\r\n    Layout17Component,\r\n    Layout31Component,\r\n    Layout5Component,\r\n    CmsTopbarComponent,\r\n    FormsModule,\r\n    FontAwesomeModule,\r\n    CdkDropList,\r\n    CdkDrag,\r\n    CdkDragPlaceholder,\r\n    DeleteLayoutComponent,\r\n    ToastModule,\r\n    FooterComponent\r\n  ],\r\n  providers: [ToasterService, MessageService],\r\n})\r\nexport class ArchitectureProjectPageComponent implements OnInit {\r\n  constructor(\r\n    private service: GeneralServicesService,\r\n    private spinner: NgxSpinnerService,\r\n    private router: Router,\r\n    private cdr: ChangeDetectorRef,\r\n    public msgService: ToasterService\r\n  ) {}\r\n  draggable: boolean = true;\r\n  faPen = faPen;\r\n  faTrash = faTrash;\r\n  faUpDown = faUpDown;\r\n  architectureProjects!: any[];\r\n  isEdit: boolean = true;\r\n  isSideBar: boolean = false;\r\n  isAddLayoutPopupVisible: boolean = false;\r\n  isEditLayoutVisible: boolean = false;\r\n  isVisible: boolean = false;\r\n  hasChanges: boolean = false;\r\n  addedLayouts: any[] = [];\r\n  selectedLayout: any = null;\r\n  selectedLayoutToDelete:\r\n    | {\r\n        index: any;\r\n      }\r\n    | any = null;\r\n  selectedLayoutToReplace: { index: any; ar_project_image_id: any } | null =\r\n    null;\r\n  layoutArray: any[] = [\r\n    { layout_id: '4', image: '../../../../assets/Layouts/layout4.jpg' },\r\n    // { layout_id: '5', image: '../../../../assets/Layouts/layout5.jpg' },\r\n    { layout_id: '7', image: '../../../../assets/Layouts/layout6.jpg' },\r\n    { layout_id: '14', image: '../../../../assets/Layouts/layout7.jpg' },\r\n    { layout_id: '6', image: '../../../../assets/Layouts/layout12.jpg' },\r\n    { layout_id: '8', image: '../../../../assets/Layouts/layout13.jpg' },\r\n    { layout_id: '10', image: '../../../../assets/Layouts/layout14.jpg' },\r\n    { layout_id: '9', image: '../../../../assets/Layouts/layout15.jpg' },\r\n    { layout_id: '11', image: '../../../../assets/Layouts/layout16.jpg' },\r\n    { layout_id: '15', image: '../../../../assets/Layouts/layout17.jpg' },\r\n    { layout_id: '12', image: '../../../../assets/Layouts/layout18.jpg' },\r\n    { layout_id: '31', image: '../../../../assets/Layouts/layout31.jpg' },\r\n  ];\r\n  // layoutArray: any[] = [\r\n  //   { layout_id: '4', image: './assets/Layouts/layout4.jpg' },\r\n  //   // { layout_id: '5', image: './assets/Layouts/layout5.jpg' },\r\n  //   { layout_id: '7', image: './assets/Layouts/layout6.jpg' },\r\n  //   { layout_id: '14', image: './assets/Layouts/layout7.jpg' },\r\n  //   { layout_id: '6', image: './assets/Layouts/layout12.jpg' },\r\n  //   { layout_id: '8', image: './assets/Layouts/layout13.jpg' },\r\n  //   { layout_id: '10', image: './assets/Layouts/layout14.jpg' },\r\n  //   { layout_id: '9', image: './assets/Layouts/layout15.jpg' },\r\n  //   { layout_id: '11', image: './assets/Layouts/layout16.jpg' },\r\n  //   { layout_id: '15', image: './assets/Layouts/layout17.jpg' },\r\n  //   { layout_id: '12', image: './assets/Layouts/layout18.jpg' },\r\n  //   { layout_id: '31', image: './assets/Layouts/layout31.jpg' },\r\n  // ];\r\n  ngOnInit(): void {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData() {\r\n    this.spinner.show();\r\n    this.service\r\n      .getArchitectureprojectPageData(this.router.url.split('/')[2])\r\n      .subscribe((data) => {\r\n        this.architectureProjects = data.data;\r\n        this.architectureProjects.forEach((i, pIndex) => {\r\n          i.layouts.map((a: any, layoutIndex: any) => {\r\n            a.slider.map((sl: any, slIndex: any) => {\r\n              const caption = a.captions[slIndex] ? a.captions[slIndex][0] : '';\r\n              sl.drawing_captions = caption;\r\n            });\r\n          });\r\n        });\r\n        this.spinner.hide();\r\n      });\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  }\r\n\r\n  openDeleteLayoutDialog(index?: any) {\r\n    if (index !== undefined && index !== null) {\r\n      this.selectedLayoutToDelete = {\r\n        index,\r\n      };\r\n      this.isVisible = !this.isVisible;\r\n    } else {\r\n      this.isVisible = false;\r\n    }\r\n  }\r\n\r\n  onLayoutDelete() {\r\n    const { index } = this.selectedLayoutToDelete;\r\n    this.spinner.show();\r\n    this.architectureProjects.splice(index, 1);\r\n    this.hasChanges = true;\r\n    this.spinner.hide();\r\n    this.isVisible = false;\r\n  }\r\n\r\n  onLayoutSelected(layoutId: any) {\r\n    const selectedLayout = this.layoutArray.find(\r\n      (layout) => layout.layout_id === layoutId.toString()\r\n    );\r\n\r\n    if (selectedLayout) {\r\n      let newLayout: any;\r\n      if (layoutId === '14') {\r\n        newLayout = {\r\n          ar_project_image_id: ``,\r\n          layout_id: selectedLayout.layout_id,\r\n          project_image: [''],\r\n          slider: [\r\n            {\r\n              image: '../../../../../assets/Layouts/layout7.jpg',\r\n              // image: './assets/Layouts/layout7.jpg',\r\n            },\r\n          ],\r\n          captions: [['.']],\r\n        };\r\n      } else if (layoutId === '31') {\r\n        newLayout = {\r\n          ar_project_image_id: ``,\r\n          layout_id: selectedLayout.layout_id,\r\n          project_image: ['../../../../../assets/Layouts/layout31.jpg'],\r\n          // project_image: ['./assets/Layouts/layout31.jpg'],\r\n          slider: [],\r\n          captions: [],\r\n        };\r\n      } else {\r\n        newLayout = {\r\n          ar_project_image_id: ``,\r\n          layout_id: selectedLayout.layout_id,\r\n          project_image: [''],\r\n          slider: [],\r\n          captions: [],\r\n        };\r\n      }\r\n\r\n      if (this.architectureProjects.length > 0) {\r\n        this.architectureProjects.push({\r\n          layouts: [newLayout],\r\n        });\r\n        this.hasChanges = true;\r\n      }\r\n\r\n      this.selectedLayout = null;\r\n      this.closeEditLayoutDialog();\r\n    }\r\n  }\r\n\r\n  onLayoutReplaceSelected(event: any) {\r\n    if (this.selectedLayoutToReplace) {\r\n      const { index, ar_project_image_id } = this.selectedLayoutToReplace;\r\n\r\n      const selectedLayout = this.layoutArray.find(\r\n        (layout) => layout.layout_id === event\r\n      );\r\n      if (selectedLayout.layout_id === '14') {\r\n        this.architectureProjects[index].layouts = [\r\n          {\r\n            ar_project_image_id: ar_project_image_id,\r\n            layout_id: selectedLayout.layout_id,\r\n            project_image: [],\r\n            slider: [\r\n              {\r\n                image: '../../../../../assets/Layouts/layout7.jpg',\r\n                // image: './assets/Layouts/layout7.jpg',\r\n              },\r\n            ],\r\n            captions: [],\r\n          },\r\n        ];\r\n      } else if (selectedLayout.layout_id === '31') {\r\n        this.architectureProjects[index].layouts = [\r\n          {\r\n            ar_project_image_id: ar_project_image_id,\r\n            layout_id: selectedLayout.layout_id,\r\n            project_image: ['../../../../../assets/Layouts/layout31.jpg'],\r\n            // project_image: ['./assets/Layouts/layout31.jpg'],\r\n            slider: [],\r\n            captions: [],\r\n          },\r\n        ];\r\n      } else {\r\n        this.architectureProjects[index].layouts = [\r\n          {\r\n            ar_project_image_id: ar_project_image_id,\r\n            layout_id: selectedLayout.layout_id,\r\n            project_image: [],\r\n            slider: [],\r\n            captions: [],\r\n          },\r\n        ];\r\n      }\r\n      this.hasChanges = true;\r\n    }\r\n    this.closeEditLayoutDialog();\r\n  }\r\n\r\n  onFilesVideoSelected(files: File | File[], index: number, layoutId: string) {\r\n    const fileArray = Array.isArray(files) ? files : [files];\r\n    const reader = new FileReader();\r\n\r\n    fileArray.forEach((file, fileIndex) => {\r\n      reader.onload = () => {\r\n        const videoUrl = reader.result as string;\r\n\r\n        // Update the project with the new video URL\r\n        this.architectureProjects.forEach((project, projectIndex) => {\r\n          project.layouts.forEach((layout: any, layoutIndex: any) => {\r\n            if (layout.layout_id === layoutId) {\r\n              if (projectIndex === index) {\r\n                layout.project_image[0] = videoUrl;\r\n                this.hasChanges = true;\r\n              }\r\n            }\r\n          });\r\n        });\r\n\r\n        this.cdr.detectChanges();\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  openEditLayoutDialog(index?: any) {\r\n    const ar_project_image_id =\r\n      this.architectureProjects[index].layouts[0].ar_project_image_id;\r\n\r\n    this.selectedLayoutToReplace = {\r\n      index,\r\n      ar_project_image_id,\r\n    };\r\n    this.isEditLayoutVisible = !this.isEditLayoutVisible;\r\n  }\r\n\r\n  closeEditLayoutDialog() {\r\n    this.isEditLayoutVisible = false;\r\n    this.isAddLayoutPopupVisible = false;\r\n  }\r\n\r\n  changeMode() {\r\n    this.isEdit = !this.isEdit;\r\n  }\r\n\r\n  openAddLayoutDialog() {\r\n    this.isAddLayoutPopupVisible = !this.isAddLayoutPopupVisible;\r\n  }\r\n\r\n  onClickNavigate(id: string) {\r\n    this.router.navigate([id]);\r\n  }\r\n\r\n  onFilesSelected(files: File | File[], index: number, layoutId: string) {\r\n    const fileArray = Array.isArray(files) ? files : [files];\r\n    const reader = new FileReader();\r\n\r\n    fileArray.forEach((file, fileIndex) => {\r\n      reader.onload = () => {\r\n        const imageUrl = reader.result as string;\r\n\r\n        this.architectureProjects.forEach((project, projectIndex) => {\r\n          project.layouts.forEach((layout: any, layoutIndex: any) => {\r\n            if (layout.layout_id === layoutId) {\r\n              if (projectIndex === index) {\r\n                layout.project_image[0] = imageUrl;\r\n                this.hasChanges = true;\r\n              }\r\n            }\r\n          });\r\n        });\r\n        this.cdr.detectChanges();\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  onFilesSelectedLayout(\r\n    fileWithIndex: FileWithIndex,\r\n    index: number,\r\n    layoutId: string\r\n  ): void {\r\n    const file = fileWithIndex.file;\r\n    const index1 = fileWithIndex.index;\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = () => {\r\n      const imageUrl = reader.result as string;\r\n\r\n      this.architectureProjects.forEach((project, projectIndex) => {\r\n        project.layouts.forEach((layout: any, layoutIndex: any) => {\r\n          if (layout.layout_id === layoutId) {\r\n            if (projectIndex === index) {\r\n              layout.project_image[index1] = imageUrl;\r\n              this.hasChanges = true;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      this.cdr.detectChanges();\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\n  onImageChange(event: any) {\r\n    const { file, index } = event;\r\n\r\n    const updatedProject = this.architectureProjects[index];\r\n\r\n    if (updatedProject) {\r\n      const layoutIndex = updatedProject.layouts.findIndex(\r\n        (layout: any) => layout.layout_id === file.layout_id\r\n      );\r\n\r\n      if (layoutIndex !== -1) {\r\n        updatedProject.layouts[layoutIndex] = {\r\n          ...updatedProject.layouts[layoutIndex],\r\n          image: file.image,\r\n          drawing_captions: file.drawing_captions,\r\n        };\r\n      }\r\n      this.hasChanges = true;\r\n      this.architectureProjects = [...this.architectureProjects];\r\n      this.cdr.detectChanges();\r\n    }\r\n  }\r\n\r\n  changeTitle(event: any) {\r\n    this.hasChanges = true;\r\n    this.architectureProjects[event.index].project_name = event.title;\r\n  }\r\n\r\n  changeDescription(event: any) {\r\n    this.hasChanges = true;\r\n    this.architectureProjects[event.index].project_description =\r\n      event.description.replace(/Â/g, '');\r\n  }\r\n\r\n  changeYear(event: any) {\r\n    this.hasChanges = true;\r\n    this.architectureProjects[event.index].project_year = event.year;\r\n  }\r\n\r\n  changeClient(event: any) {\r\n    this.hasChanges = true;\r\n    this.architectureProjects[event.index].project_client = event.client;\r\n  }\r\n\r\n  areasChange(event: any, index: number) {\r\n    this.hasChanges = true;\r\n    this.architectureProjects[index].title = event.value;\r\n  }\r\n\r\n  builtupChange(event: any) {\r\n    this.hasChanges = true;\r\n    this.architectureProjects[event.index].project_built_up_area =\r\n      event.built_up_area;\r\n  }\r\n\r\n  onTagsChange(updatedTags: any, index: number) {\r\n    if (Array.isArray(updatedTags)) {\r\n      const tagsString = updatedTags[0];\r\n      if (typeof tagsString === 'string') {\r\n        const tagsArray = tagsString\r\n          .split(',')\r\n          .map((tag) => tag.trim())\r\n          .filter((tag) => tag.length > 0);\r\n        this.hasChanges = true;\r\n        this.architectureProjects[index].tags = tagsArray;\r\n      }\r\n    }\r\n  }\r\n\r\n  onPublish() {\r\n    this.hasChanges = false;\r\n    this.spinner.show();\r\n\r\n    this.service\r\n      .postARPojectPageData(this.architectureProjects)\r\n      .subscribe((data) => {\r\n        if (data.message === 'success') {\r\n          this.msgService.successToaster('Uploaded successfully');\r\n          this.fetchData();\r\n          this.spinner.hide();\r\n        }\r\n      });\r\n  }\r\n\r\n  sideBarToogle() {\r\n    this.isSideBar = !this.isSideBar;\r\n  }\r\n\r\n  activeHover() {\r\n    this.draggable = false;\r\n  }\r\n\r\n  inactiveHover() {\r\n    this.draggable = true;\r\n  }\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n    moveItemInArray(\r\n      this.architectureProjects,\r\n      event.previousIndex,\r\n      event.currentIndex\r\n    );\r\n  }\r\n\r\n  toTop() {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
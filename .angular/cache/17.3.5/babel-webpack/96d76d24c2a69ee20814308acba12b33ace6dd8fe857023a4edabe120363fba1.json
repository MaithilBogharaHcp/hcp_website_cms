{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./urbanism-project-page.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./urbanism-project-page.component.css?ngResource\";\nimport { ChangeDetectorRef, Component } from '@angular/core';\nimport { TopbarComponent } from '../../shared/topbar/topbar.component';\nimport { Router } from '@angular/router';\nimport { Layout4Component } from '../../common/layouts/layout4-P/layout4.component';\nimport { CommonModule } from '@angular/common';\nimport { LayoutDialogComponent } from '../../common/dialog/layout-dialog/layout-dialog.component';\nimport { EditLayoutComponent } from '../../common/dialog/edit-layout/edit-layout.component';\nimport { NgxSpinnerModule, NgxSpinnerService } from 'ngx-spinner';\nimport { Layout12Component } from '../../common/layouts/layout12-P/layout12.component';\nimport { Layout6Component } from '../../common/layouts/layout6-P/layout6.component';\nimport { Layout13Component } from '../../common/layouts/layout13-P/layout13.component';\nimport { Layout15Component } from '../../common/layouts/layout15-P/layout15.component';\nimport { Layout14Component } from '../../common/layouts/layout14-P/layout14.component';\nimport { Layout16Component } from '../../common/layouts/layout16-P/layout16.component';\nimport { Layout18Component } from '../../common/layouts/layout18-p/layout18.component';\nimport { Layout7Component } from '../../common/layouts/layout7-P/layout7.component';\nimport { Layout8Component } from '../../common/layouts/layout8-P/layout8.component';\nimport { Layout17Component } from '../../common/layouts/layout17-P/layout17.component';\nimport { Layout5Component } from '../../common/layouts/layout5-P/layout5.component';\nimport { CmsTopbarComponent } from '../../shared/cms-topbar/cms-topbar.component';\nimport { FormsModule } from '@angular/forms';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { CdkDrag, CdkDragPlaceholder, CdkDropList, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { DeleteLayoutComponent } from '../../common/dialog/delete-layout/delete-layout.component';\nimport { ToastModule } from 'primeng/toast';\nimport { GeneralServicesService } from '../../../services/general-services.service';\nimport { ToasterService } from '../../../services/toaster.service';\nimport { faPen, faTrash, faUpDown } from '@fortawesome/free-solid-svg-icons';\nimport { Layout31Component } from '../../common/layouts/layout31/layout31.component';\nimport { MessageService } from 'primeng/api';\nimport { FooterComponent } from '../../shared/footer/footer.component';\nlet UrbanismProjectPageComponent = class UrbanismProjectPageComponent {\n  constructor(service, spinner, router, cdr, msgService) {\n    this.service = service;\n    this.spinner = spinner;\n    this.router = router;\n    this.cdr = cdr;\n    this.msgService = msgService;\n    this.draggable = true;\n    this.faPen = faPen;\n    this.faTrash = faTrash;\n    this.faUpDown = faUpDown;\n    this.isEdit = true;\n    this.isSideBar = false;\n    this.isAddLayoutPopupVisible = false;\n    this.isVisible = false;\n    this.isEditLayoutVisible = false;\n    this.hasChanges = false;\n    this.addedLayouts = [];\n    this.selectedLayout = null;\n    this.selectedLayoutToDelete = null;\n    this.selectedLayoutToReplace = null;\n    this.layoutArray = [{\n      layout_id: '4',\n      image: '../../../../assets/Layouts/layout4.jpg'\n    },\n    // { layout_id: '5', image: '../../../../assets/Layouts/layout5.jpg' },\n    {\n      layout_id: '7',\n      image: '../../../../assets/Layouts/layout6.jpg'\n    }, {\n      layout_id: '14',\n      image: '../../../../assets/Layouts/layout7.jpg'\n    }, {\n      layout_id: '6',\n      image: '../../../../assets/Layouts/layout12.jpg'\n    }, {\n      layout_id: '8',\n      image: '../../../../assets/Layouts/layout13.jpg'\n    }, {\n      layout_id: '10',\n      image: '../../../../assets/Layouts/layout14.jpg'\n    }, {\n      layout_id: '9',\n      image: '../../../../assets/Layouts/layout15.jpg'\n    }, {\n      layout_id: '11',\n      image: '../../../../assets/Layouts/layout16.jpg'\n    }, {\n      layout_id: '15',\n      image: '../../../../assets/Layouts/layout17.jpg'\n    }, {\n      layout_id: '12',\n      image: '../../../../assets/Layouts/layout18.jpg'\n    }, {\n      layout_id: '31',\n      image: '../../../../assets/Layouts/layout31.jpg'\n    }];\n  }\n  // layoutArray: any[] = [\n  //     { layout_id: '4', image: './assets/Layouts/layout4.jpg' },\n  //     // { layout_id: '5', image: './assets/Layouts/layout5.jpg' },\n  //     { layout_id: '7', image: './assets/Layouts/layout6.jpg' },\n  //     { layout_id: '14', image: './assets/Layouts/layout7.jpg' },\n  //     { layout_id: '6', image: './assets/Layouts/layout12.jpg' },\n  //     { layout_id: '8', image: './assets/Layouts/layout13.jpg' },\n  //     { layout_id: '10', image: './assets/Layouts/layout14.jpg' },\n  //     { layout_id: '9', image: './assets/Layouts/layout15.jpg' },\n  //     { layout_id: '11', image: './assets/Layouts/layout16.jpg' },\n  //     { layout_id: '15', image: './assets/Layouts/layout17.jpg' },\n  //     { layout_id: '12', image: './assets/Layouts/layout18.jpg' },\n  //     { layout_id: '31', image: './assets/Layouts/layout31.jpg' },\n  //   ];\n  ngOnInit() {\n    this.fetchData();\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n  fetchData() {\n    this.spinner.show();\n    this.service.getUrbanismprojectPageData(this.router.url.split('/')[2]).subscribe(data => {\n      this.urbanismProjects = data.data;\n      this.urbanismProjects.forEach((i, pIndex) => {\n        i.layouts.map((a, layoutIndex) => {\n          a.slider.map((sl, slIndex) => {\n            const caption = a.captions[slIndex] ? a.captions[slIndex][0] : '';\n            sl.drawing_captions = caption;\n          });\n        });\n      });\n      this.spinner.hide();\n    });\n  }\n  openDeleteLayoutDialog(index) {\n    if (index) {\n      this.selectedLayoutToDelete = {\n        index\n      };\n      this.isVisible = !this.isVisible;\n    } else {\n      this.isVisible = false;\n    }\n  }\n  // isTemporaryLayout(ar_project_image_id: string): boolean {\n  //   return ar_project_image_id.startsWith('temp-');\n  // }\n  onLayoutDelete() {\n    const {\n      index\n    } = this.selectedLayoutToDelete;\n    this.spinner.show();\n    this.urbanismProjects.splice(index, 1);\n    this.hasChanges = true;\n    this.spinner.hide();\n    this.isVisible = false;\n  }\n  onLayoutSelected(layoutId) {\n    const selectedLayout = this.layoutArray.find(layout => layout.layout_id === layoutId.toString());\n    if (selectedLayout) {\n      let newLayout;\n      if (layoutId === '14') {\n        newLayout = {\n          ur_project_image_id: ``,\n          layout_id: selectedLayout.layout_id,\n          project_image: [''],\n          slider: [{\n            image: '../../../../../assets/Layouts/layout7.jpg'\n            //  image: './assets/Layouts/layout7.jpg',\n          }],\n          captions: [['.']]\n        };\n      } else if (layoutId === '31') {\n        newLayout = {\n          ur_project_image_id: ``,\n          layout_id: selectedLayout.layout_id,\n          project_image: ['../../../../../assets/Layouts/layout31.jpg'],\n          // project_image: ['./assets/Layouts/layout31.jpg'],\n          slider: [],\n          captions: []\n        };\n      } else {\n        newLayout = {\n          ur_project_image_id: ``,\n          layout_id: selectedLayout.layout_id,\n          project_image: [''],\n          slider: [],\n          captions: []\n        };\n      }\n      if (this.urbanismProjects.length > 0) {\n        this.urbanismProjects.push({\n          layouts: [newLayout]\n        });\n        this.hasChanges = true;\n      }\n      this.selectedLayout = null;\n      this.closeEditLayoutDialog();\n    }\n  }\n  onLayoutReplaceSelected(event) {\n    if (this.selectedLayoutToReplace) {\n      const {\n        index,\n        ur_project_image_id\n      } = this.selectedLayoutToReplace;\n      const selectedLayout = this.layoutArray.find(layout => layout.layout_id === event);\n      if (selectedLayout.layout_id === '14') {\n        this.urbanismProjects[index].layouts = [{\n          ar_project_image_id: ur_project_image_id,\n          layout_id: selectedLayout.layout_id,\n          project_image: [],\n          slider: [{\n            image: '../../../../../assets/Layouts/layout7.jpg'\n            // image: './assets/Layouts/layout7.jpg',\n          }],\n          captions: []\n        }];\n      } else if (selectedLayout.layout_id === '31') {\n        this.urbanismProjects[index].layouts = [{\n          ar_project_image_id: ur_project_image_id,\n          layout_id: selectedLayout.layout_id,\n          project_image: ['../../../../../assets/Layouts/layout31.jpg'],\n          // project_image: ['./assets/Layouts/layout31.jpg'],\n          slider: [],\n          captions: []\n        }];\n      } else {\n        this.urbanismProjects[index].layouts = [{\n          ar_project_image_id: ur_project_image_id,\n          layout_id: selectedLayout.layout_id,\n          project_image: [],\n          slider: [],\n          captions: []\n        }];\n      }\n      this.hasChanges = true;\n    }\n    this.closeEditLayoutDialog();\n  }\n  onFilesVideoSelected(files, index, layoutId) {\n    const fileArray = Array.isArray(files) ? files : [files];\n    const reader = new FileReader();\n    fileArray.forEach((file, fileIndex) => {\n      reader.onload = () => {\n        const videoUrl = reader.result;\n        // Update the project with the new video URL\n        this.urbanismProjects.forEach((project, projectIndex) => {\n          project.layouts.forEach((layout, layoutIndex) => {\n            if (layout.layout_id === layoutId) {\n              if (projectIndex === index) {\n                layout.project_image[0] = videoUrl;\n                this.hasChanges = true;\n              }\n            }\n          });\n        });\n        this.cdr.detectChanges();\n      };\n      reader.readAsDataURL(file);\n    });\n  }\n  openEditLayoutDialog(index) {\n    const ur_project_image_id = this.urbanismProjects[index].layouts[0].ar_project_image_id;\n    this.selectedLayoutToReplace = {\n      index,\n      ur_project_image_id\n    };\n    this.isEditLayoutVisible = !this.isEditLayoutVisible;\n  }\n  closeEditLayoutDialog() {\n    this.isEditLayoutVisible = false;\n    this.isAddLayoutPopupVisible = false;\n  }\n  changeMode() {\n    this.isEdit = !this.isEdit;\n  }\n  openAddLayoutDialog() {\n    this.isAddLayoutPopupVisible = !this.isAddLayoutPopupVisible;\n  }\n  onClickNavigate(id) {\n    this.router.navigate([id]);\n  }\n  onFilesSelected(files, index, layoutId) {\n    const fileArray = Array.isArray(files) ? files : [files];\n    const reader = new FileReader();\n    fileArray.forEach((file, fileIndex) => {\n      reader.onload = () => {\n        const imageUrl = reader.result;\n        this.urbanismProjects.forEach((project, projectIndex) => {\n          project.layouts.forEach((layout, layoutIndex) => {\n            if (layout.layout_id === layoutId) {\n              if (projectIndex === index) {\n                layout.project_image[0] = imageUrl;\n                this.hasChanges = true;\n              }\n            }\n          });\n        });\n        this.cdr.detectChanges();\n      };\n      reader.readAsDataURL(file);\n    });\n  }\n  onFilesSelectedLayout(fileWithIndex, index, layoutId) {\n    const file = fileWithIndex.file;\n    const index1 = fileWithIndex.index;\n    const reader = new FileReader();\n    reader.onload = () => {\n      const imageUrl = reader.result;\n      this.urbanismProjects.forEach((project, projectIndex) => {\n        project.layouts.forEach((layout, layoutIndex) => {\n          if (layout.layout_id === layoutId) {\n            if (projectIndex === index) {\n              layout.project_image[index1] = imageUrl;\n              this.hasChanges = true;\n            }\n          }\n        });\n      });\n      this.cdr.detectChanges();\n    };\n    reader.readAsDataURL(file);\n  }\n  onImageChange(event) {\n    const {\n      file,\n      index\n    } = event;\n    const updatedProject = this.urbanismProjects[index];\n    if (updatedProject) {\n      const layoutIndex = updatedProject.layouts.findIndex(layout => layout.layout_id === file.layout_id);\n      if (layoutIndex !== -1) {\n        updatedProject.layouts[layoutIndex] = {\n          ...updatedProject.layouts[layoutIndex],\n          image: file.image,\n          drawing_captions: file.drawing_captions\n        };\n      }\n      this.hasChanges = true;\n      this.urbanismProjects = [...this.urbanismProjects];\n      this.cdr.detectChanges();\n    }\n  }\n  changeTitle(event) {\n    this.hasChanges = true;\n    this.urbanismProjects[event.index].project_name = event.title;\n  }\n  changeDescription(event) {\n    this.hasChanges = true;\n    this.urbanismProjects[event.index].project_description = event.description.replace(/Â/g, '');\n  }\n  changeYear(event) {\n    this.hasChanges = true;\n    this.urbanismProjects[event.index].project_year = event.year;\n  }\n  changeClient(event) {\n    this.hasChanges = true;\n    this.urbanismProjects[event.index].project_client = event.client;\n  }\n  areasChange(event, index) {\n    this.hasChanges = true;\n    this.urbanismProjects[index].title = event.value;\n  }\n  builtupChange(event) {\n    this.hasChanges = true;\n    this.urbanismProjects[event.index].project_built_up_area = event.built_up_area;\n  }\n  onTagsChange(updatedTags, index) {\n    if (Array.isArray(updatedTags)) {\n      const tagsString = updatedTags[0];\n      if (typeof tagsString === 'string') {\n        const tagsArray = tagsString.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0);\n        this.hasChanges = true;\n        this.urbanismProjects[index].tags = tagsArray;\n      }\n    }\n  }\n  onPublish() {\n    this.hasChanges = false;\n    this.spinner.show();\n    this.service.postURPojectPageData(this.urbanismProjects).subscribe(data => {\n      if (data.message === 'success') {\n        this.msgService.successToaster('Uploaded successfully');\n        this.fetchData();\n        this.spinner.hide();\n      }\n    });\n  }\n  sideBarToogle() {\n    this.isSideBar = !this.isSideBar;\n  }\n  activeHover() {\n    this.draggable = false;\n  }\n  inactiveHover() {\n    this.draggable = true;\n  }\n  drop(event) {\n    moveItemInArray(this.urbanismProjects, event.previousIndex, event.currentIndex);\n  }\n  toTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: GeneralServicesService\n  }, {\n    type: NgxSpinnerService\n  }, {\n    type: Router\n  }, {\n    type: ChangeDetectorRef\n  }, {\n    type: ToasterService\n  }];\n};\nUrbanismProjectPageComponent = __decorate([Component({\n  selector: 'app-urbanism-project-page',\n  standalone: true,\n  imports: [TopbarComponent, CommonModule, LayoutDialogComponent, EditLayoutComponent, NgxSpinnerModule, Layout4Component, Layout12Component, Layout6Component, Layout13Component, Layout15Component, Layout14Component, Layout16Component, Layout18Component, Layout7Component, Layout8Component, Layout17Component, Layout5Component, Layout31Component, CmsTopbarComponent, FormsModule, FontAwesomeModule, CdkDropList, CdkDrag, CdkDragPlaceholder, DeleteLayoutComponent, ToastModule, FooterComponent],\n  providers: [ToasterService, MessageService],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], UrbanismProjectPageComponent);\nexport { UrbanismProjectPageComponent };","map":{"version":3,"names":["ChangeDetectorRef","Component","TopbarComponent","Router","Layout4Component","CommonModule","LayoutDialogComponent","EditLayoutComponent","NgxSpinnerModule","NgxSpinnerService","Layout12Component","Layout6Component","Layout13Component","Layout15Component","Layout14Component","Layout16Component","Layout18Component","Layout7Component","Layout8Component","Layout17Component","Layout5Component","CmsTopbarComponent","FormsModule","FontAwesomeModule","CdkDrag","CdkDragPlaceholder","CdkDropList","moveItemInArray","DeleteLayoutComponent","ToastModule","GeneralServicesService","ToasterService","faPen","faTrash","faUpDown","Layout31Component","MessageService","FooterComponent","UrbanismProjectPageComponent","constructor","service","spinner","router","cdr","msgService","draggable","isEdit","isSideBar","isAddLayoutPopupVisible","isVisible","isEditLayoutVisible","hasChanges","addedLayouts","selectedLayout","selectedLayoutToDelete","selectedLayoutToReplace","layoutArray","layout_id","image","ngOnInit","fetchData","window","scrollTo","top","behavior","show","getUrbanismprojectPageData","url","split","subscribe","data","urbanismProjects","forEach","i","pIndex","layouts","map","a","layoutIndex","slider","sl","slIndex","caption","captions","drawing_captions","hide","openDeleteLayoutDialog","index","onLayoutDelete","splice","onLayoutSelected","layoutId","find","layout","toString","newLayout","ur_project_image_id","project_image","length","push","closeEditLayoutDialog","onLayoutReplaceSelected","event","ar_project_image_id","onFilesVideoSelected","files","fileArray","Array","isArray","reader","FileReader","file","fileIndex","onload","videoUrl","result","project","projectIndex","detectChanges","readAsDataURL","openEditLayoutDialog","changeMode","openAddLayoutDialog","onClickNavigate","id","navigate","onFilesSelected","imageUrl","onFilesSelectedLayout","fileWithIndex","index1","onImageChange","updatedProject","findIndex","changeTitle","project_name","title","changeDescription","project_description","description","replace","changeYear","project_year","year","changeClient","project_client","client","areasChange","value","builtupChange","project_built_up_area","built_up_area","onTagsChange","updatedTags","tagsString","tagsArray","tag","trim","filter","tags","onPublish","postURPojectPageData","message","successToaster","sideBarToogle","activeHover","inactiveHover","drop","previousIndex","currentIndex","toTop","_","__decorate","selector","standalone","imports","providers","template","__NG_CLI_RESOURCE__0"],"sources":["D:\\Maithil\\website-cms\\src\\app\\components\\pages\\urbanism-project-page\\urbanism-project-page.component.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { TopbarComponent } from '../../shared/topbar/topbar.component';\r\nimport { Router } from '@angular/router';\r\nimport { Layout4Component } from '../../common/layouts/layout4-P/layout4.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LayoutDialogComponent } from '../../common/dialog/layout-dialog/layout-dialog.component';\r\nimport { EditLayoutComponent } from '../../common/dialog/edit-layout/edit-layout.component';\r\nimport { NgxSpinnerModule, NgxSpinnerService } from 'ngx-spinner';\r\nimport { Layout12Component } from '../../common/layouts/layout12-P/layout12.component';\r\nimport { Layout6Component } from '../../common/layouts/layout6-P/layout6.component';\r\nimport { Layout13Component } from '../../common/layouts/layout13-P/layout13.component';\r\nimport { Layout15Component } from '../../common/layouts/layout15-P/layout15.component';\r\nimport { Layout14Component } from '../../common/layouts/layout14-P/layout14.component';\r\nimport { Layout16Component } from '../../common/layouts/layout16-P/layout16.component';\r\nimport { Layout18Component } from '../../common/layouts/layout18-p/layout18.component';\r\nimport { Layout7Component } from '../../common/layouts/layout7-P/layout7.component';\r\nimport { Layout8Component } from '../../common/layouts/layout8-P/layout8.component';\r\nimport { Layout17Component } from '../../common/layouts/layout17-P/layout17.component';\r\nimport { Layout5Component } from '../../common/layouts/layout5-P/layout5.component';\r\nimport { CmsTopbarComponent } from '../../shared/cms-topbar/cms-topbar.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport {\r\n  CdkDrag,\r\n  CdkDragDrop,\r\n  CdkDragPlaceholder,\r\n  CdkDropList,\r\n  moveItemInArray,\r\n} from '@angular/cdk/drag-drop';\r\nimport { DeleteLayoutComponent } from '../../common/dialog/delete-layout/delete-layout.component';\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { GeneralServicesService } from '../../../services/general-services.service';\r\nimport { ToasterService } from '../../../services/toaster.service';\r\nimport { faPen, faTrash, faUpDown } from '@fortawesome/free-solid-svg-icons';\r\nimport { Layout31Component } from '../../common/layouts/layout31/layout31.component';\r\nimport { MessageService } from 'primeng/api';\r\nimport { FooterComponent } from '../../shared/footer/footer.component';\r\ninterface FileWithIndex {\r\n  file: File;\r\n  index: number;\r\n}\r\n@Component({\r\n  selector: 'app-urbanism-project-page',\r\n  standalone: true,\r\n  imports: [\r\n    TopbarComponent,\r\n    CommonModule,\r\n    LayoutDialogComponent,\r\n    EditLayoutComponent,\r\n    NgxSpinnerModule,\r\n    Layout4Component,\r\n    Layout12Component,\r\n    Layout6Component,\r\n    Layout13Component,\r\n    Layout15Component,\r\n    Layout14Component,\r\n    Layout16Component,\r\n    Layout18Component,\r\n    Layout7Component,\r\n    Layout8Component,\r\n    Layout17Component,\r\n    Layout5Component,\r\n    Layout31Component,\r\n    CmsTopbarComponent,\r\n    FormsModule,\r\n    FontAwesomeModule,\r\n    CdkDropList,\r\n    CdkDrag,\r\n    CdkDragPlaceholder,\r\n    DeleteLayoutComponent,\r\n    ToastModule,\r\n    FooterComponent\r\n  ],\r\n  providers: [ToasterService, MessageService],\r\n  templateUrl: './urbanism-project-page.component.html',\r\n  styleUrl: './urbanism-project-page.component.css',\r\n})\r\nexport class UrbanismProjectPageComponent implements OnInit {\r\n  constructor(\r\n    private service: GeneralServicesService,\r\n    private spinner: NgxSpinnerService,\r\n    private router: Router,\r\n    private cdr: ChangeDetectorRef,\r\n    public msgService: ToasterService\r\n  ) {}\r\n  draggable: boolean = true;\r\n  faPen = faPen;\r\n  faTrash = faTrash;\r\n  faUpDown = faUpDown;\r\n  urbanismProjects!: any[];\r\n  isEdit: boolean = true;\r\n  isSideBar: boolean = false;\r\n  isAddLayoutPopupVisible: boolean = false;\r\n  isVisible: boolean = false;\r\n  isEditLayoutVisible: boolean = false;\r\n  hasChanges: boolean = false;\r\n  addedLayouts: any[] = [];\r\n  selectedLayout: any = null;\r\n  selectedLayoutToDelete:\r\n    | {\r\n        index: any;\r\n      }\r\n    | any = null;\r\n  selectedLayoutToReplace: { index: any; ur_project_image_id: any } | null =\r\n    null;\r\n  layoutArray: any[] = [\r\n    { layout_id: '4', image: '../../../../assets/Layouts/layout4.jpg' },\r\n    // { layout_id: '5', image: '../../../../assets/Layouts/layout5.jpg' },\r\n    { layout_id: '7', image: '../../../../assets/Layouts/layout6.jpg' },\r\n    { layout_id: '14', image: '../../../../assets/Layouts/layout7.jpg' },\r\n    { layout_id: '6', image: '../../../../assets/Layouts/layout12.jpg' },\r\n    { layout_id: '8', image: '../../../../assets/Layouts/layout13.jpg' },\r\n    { layout_id: '10', image: '../../../../assets/Layouts/layout14.jpg' },\r\n    { layout_id: '9', image: '../../../../assets/Layouts/layout15.jpg' },\r\n    { layout_id: '11', image: '../../../../assets/Layouts/layout16.jpg' },\r\n    { layout_id: '15', image: '../../../../assets/Layouts/layout17.jpg' },\r\n    { layout_id: '12', image: '../../../../assets/Layouts/layout18.jpg' },\r\n    { layout_id: '31', image: '../../../../assets/Layouts/layout31.jpg' },\r\n  ];\r\n  // layoutArray: any[] = [\r\n  //     { layout_id: '4', image: './assets/Layouts/layout4.jpg' },\r\n  //     // { layout_id: '5', image: './assets/Layouts/layout5.jpg' },\r\n  //     { layout_id: '7', image: './assets/Layouts/layout6.jpg' },\r\n  //     { layout_id: '14', image: './assets/Layouts/layout7.jpg' },\r\n  //     { layout_id: '6', image: './assets/Layouts/layout12.jpg' },\r\n  //     { layout_id: '8', image: './assets/Layouts/layout13.jpg' },\r\n  //     { layout_id: '10', image: './assets/Layouts/layout14.jpg' },\r\n  //     { layout_id: '9', image: './assets/Layouts/layout15.jpg' },\r\n  //     { layout_id: '11', image: './assets/Layouts/layout16.jpg' },\r\n  //     { layout_id: '15', image: './assets/Layouts/layout17.jpg' },\r\n  //     { layout_id: '12', image: './assets/Layouts/layout18.jpg' },\r\n  //     { layout_id: '31', image: './assets/Layouts/layout31.jpg' },\r\n  //   ];\r\n  ngOnInit(): void {\r\n    this.fetchData();\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  }\r\n\r\n  fetchData() {\r\n    this.spinner.show();\r\n    this.service\r\n      .getUrbanismprojectPageData(this.router.url.split('/')[2])\r\n      .subscribe((data) => {\r\n        this.urbanismProjects = data.data;\r\n        this.urbanismProjects.forEach((i, pIndex: any) => {\r\n          i.layouts.map((a: any, layoutIndex: any) => {\r\n            a.slider.map((sl: any, slIndex: any) => {\r\n              const caption = a.captions[slIndex] ? a.captions[slIndex][0] : '';\r\n              sl.drawing_captions = caption;\r\n            });\r\n          });\r\n        });\r\n        this.spinner.hide();\r\n      });\r\n  }\r\n\r\n  openDeleteLayoutDialog(index?: any) {\r\n    if (index) {\r\n      this.selectedLayoutToDelete = {\r\n        index,\r\n      };\r\n      this.isVisible = !this.isVisible;\r\n    } else {\r\n      this.isVisible = false;\r\n    }\r\n  }\r\n\r\n  // isTemporaryLayout(ar_project_image_id: string): boolean {\r\n  //   return ar_project_image_id.startsWith('temp-');\r\n  // }\r\n\r\n  onLayoutDelete() {\r\n    const { index } = this.selectedLayoutToDelete;\r\n    this.spinner.show();\r\n    this.urbanismProjects.splice(index, 1);\r\n    this.hasChanges = true;\r\n    this.spinner.hide();\r\n    this.isVisible = false;\r\n  }\r\n\r\n  onLayoutSelected(layoutId: any) {\r\n    const selectedLayout = this.layoutArray.find(\r\n      (layout) => layout.layout_id === layoutId.toString()\r\n    );\r\n\r\n    if (selectedLayout) {\r\n      let newLayout: any;\r\n      if (layoutId === '14') {\r\n        newLayout = {\r\n          ur_project_image_id: ``,\r\n          layout_id: selectedLayout.layout_id,\r\n          project_image: [''],\r\n          slider: [\r\n            {\r\n              image: '../../../../../assets/Layouts/layout7.jpg',\r\n              //  image: './assets/Layouts/layout7.jpg',\r\n            },\r\n          ],\r\n          captions: [['.']],\r\n        };\r\n      } else if (layoutId === '31') {\r\n        newLayout = {\r\n          ur_project_image_id: ``,\r\n          layout_id: selectedLayout.layout_id,\r\n          project_image: ['../../../../../assets/Layouts/layout31.jpg'],\r\n          // project_image: ['./assets/Layouts/layout31.jpg'],\r\n          slider: [],\r\n          captions: [],\r\n        };\r\n      } else {\r\n        newLayout = {\r\n          ur_project_image_id: ``,\r\n          layout_id: selectedLayout.layout_id,\r\n          project_image: [''],\r\n          slider: [],\r\n          captions: [],\r\n        };\r\n      }\r\n\r\n      if (this.urbanismProjects.length > 0) {\r\n        this.urbanismProjects.push({\r\n          layouts: [newLayout],\r\n        });\r\n        this.hasChanges = true;\r\n      }\r\n\r\n      this.selectedLayout = null;\r\n      this.closeEditLayoutDialog();\r\n    }\r\n  }\r\n  onLayoutReplaceSelected(event: any) {\r\n    if (this.selectedLayoutToReplace) {\r\n      const { index, ur_project_image_id } = this.selectedLayoutToReplace;\r\n\r\n      const selectedLayout = this.layoutArray.find(\r\n        (layout) => layout.layout_id === event\r\n      );\r\n      if (selectedLayout.layout_id === '14') {\r\n        this.urbanismProjects[index].layouts = [\r\n          {\r\n            ar_project_image_id: ur_project_image_id,\r\n            layout_id: selectedLayout.layout_id,\r\n            project_image: [],\r\n            slider: [\r\n              {\r\n                image: '../../../../../assets/Layouts/layout7.jpg',\r\n                // image: './assets/Layouts/layout7.jpg',\r\n              },\r\n            ],\r\n            captions: [],\r\n          },\r\n        ];\r\n      } else if (selectedLayout.layout_id === '31') {\r\n        this.urbanismProjects[index].layouts = [\r\n          {\r\n            ar_project_image_id: ur_project_image_id,\r\n            layout_id: selectedLayout.layout_id,\r\n            project_image: ['../../../../../assets/Layouts/layout31.jpg'],\r\n            // project_image: ['./assets/Layouts/layout31.jpg'],\r\n            slider: [],\r\n            captions: [],\r\n          },\r\n        ];\r\n      } else {\r\n        this.urbanismProjects[index].layouts = [\r\n          {\r\n            ar_project_image_id: ur_project_image_id,\r\n            layout_id: selectedLayout.layout_id,\r\n            project_image: [],\r\n            slider: [],\r\n            captions: [],\r\n          },\r\n        ];\r\n      }\r\n      this.hasChanges = true;\r\n    }\r\n    this.closeEditLayoutDialog();\r\n  }\r\n\r\n  onFilesVideoSelected(files: File | File[], index: number, layoutId: string) {\r\n    const fileArray = Array.isArray(files) ? files : [files];\r\n    const reader = new FileReader();\r\n\r\n    fileArray.forEach((file, fileIndex) => {\r\n      reader.onload = () => {\r\n        const videoUrl = reader.result as string;\r\n\r\n        // Update the project with the new video URL\r\n        this.urbanismProjects.forEach((project, projectIndex) => {\r\n          project.layouts.forEach((layout: any, layoutIndex: any) => {\r\n            if (layout.layout_id === layoutId) {\r\n              if (projectIndex === index) {\r\n                layout.project_image[0] = videoUrl;\r\n                this.hasChanges = true;\r\n              }\r\n            }\r\n          });\r\n        });\r\n\r\n        this.cdr.detectChanges();\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  openEditLayoutDialog(index?: any) {\r\n    const ur_project_image_id =\r\n      this.urbanismProjects[index].layouts[0].ar_project_image_id;\r\n\r\n    this.selectedLayoutToReplace = {\r\n      index,\r\n      ur_project_image_id,\r\n    };\r\n    this.isEditLayoutVisible = !this.isEditLayoutVisible;\r\n  }\r\n\r\n  closeEditLayoutDialog() {\r\n    this.isEditLayoutVisible = false;\r\n    this.isAddLayoutPopupVisible = false;\r\n  }\r\n\r\n  changeMode() {\r\n    this.isEdit = !this.isEdit;\r\n  }\r\n\r\n  openAddLayoutDialog() {\r\n    this.isAddLayoutPopupVisible = !this.isAddLayoutPopupVisible;\r\n  }\r\n\r\n  onClickNavigate(id: string) {\r\n    this.router.navigate([id]);\r\n  }\r\n\r\n  onFilesSelected(files: File | File[], index: number, layoutId: string) {\r\n    const fileArray = Array.isArray(files) ? files : [files];\r\n    const reader = new FileReader();\r\n\r\n    fileArray.forEach((file, fileIndex) => {\r\n      reader.onload = () => {\r\n        const imageUrl = reader.result as string;\r\n\r\n        this.urbanismProjects.forEach((project, projectIndex) => {\r\n          project.layouts.forEach((layout: any, layoutIndex: any) => {\r\n            if (layout.layout_id === layoutId) {\r\n              if (projectIndex === index) {\r\n                layout.project_image[0] = imageUrl;\r\n                this.hasChanges = true;\r\n              }\r\n            }\r\n          });\r\n        });\r\n        this.cdr.detectChanges();\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  onFilesSelectedLayout(\r\n    fileWithIndex: FileWithIndex,\r\n    index: number,\r\n    layoutId: string\r\n  ): void {\r\n    const file = fileWithIndex.file;\r\n    const index1 = fileWithIndex.index;\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = () => {\r\n      const imageUrl = reader.result as string;\r\n\r\n      this.urbanismProjects.forEach((project, projectIndex) => {\r\n        project.layouts.forEach((layout: any, layoutIndex: any) => {\r\n          if (layout.layout_id === layoutId) {\r\n            if (projectIndex === index) {\r\n              layout.project_image[index1] = imageUrl;\r\n              this.hasChanges = true;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      this.cdr.detectChanges();\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\n  onImageChange(event: any) {\r\n    const { file, index } = event;\r\n\r\n    const updatedProject = this.urbanismProjects[index];\r\n\r\n    if (updatedProject) {\r\n      const layoutIndex = updatedProject.layouts.findIndex(\r\n        (layout: any) => layout.layout_id === file.layout_id\r\n      );\r\n\r\n      if (layoutIndex !== -1) {\r\n        updatedProject.layouts[layoutIndex] = {\r\n          ...updatedProject.layouts[layoutIndex],\r\n          image: file.image,\r\n          drawing_captions: file.drawing_captions,\r\n        };\r\n      }\r\n      this.hasChanges = true;\r\n      this.urbanismProjects = [...this.urbanismProjects];\r\n      this.cdr.detectChanges();\r\n    }\r\n  }\r\n\r\n  changeTitle(event: any) {\r\n    this.hasChanges = true;\r\n    this.urbanismProjects[event.index].project_name = event.title;\r\n  }\r\n\r\n  changeDescription(event: any) {\r\n    this.hasChanges = true;\r\n    this.urbanismProjects[event.index].project_description =\r\n      event.description.replace(/Â/g, '');\r\n  }\r\n\r\n  changeYear(event: any) {\r\n    this.hasChanges = true;\r\n    this.urbanismProjects[event.index].project_year = event.year;\r\n  }\r\n\r\n  changeClient(event: any) {\r\n    this.hasChanges = true;\r\n    this.urbanismProjects[event.index].project_client = event.client;\r\n  }\r\n\r\n  areasChange(event: any, index: number) {\r\n    this.hasChanges = true;\r\n    this.urbanismProjects[index].title = event.value;\r\n  }\r\n\r\n  builtupChange(event: any) {\r\n    this.hasChanges = true;\r\n    this.urbanismProjects[event.index].project_built_up_area =\r\n      event.built_up_area;\r\n  }\r\n\r\n  onTagsChange(updatedTags: any, index: number) {\r\n    if (Array.isArray(updatedTags)) {\r\n      const tagsString = updatedTags[0];\r\n      if (typeof tagsString === 'string') {\r\n        const tagsArray = tagsString\r\n          .split(',')\r\n          .map((tag) => tag.trim())\r\n          .filter((tag) => tag.length > 0);\r\n        this.hasChanges = true;\r\n        this.urbanismProjects[index].tags = tagsArray;\r\n      }\r\n    }\r\n  }\r\n\r\n  onPublish() {\r\n    this.hasChanges = false;\r\n    this.spinner.show();\r\n\r\n    this.service\r\n      .postURPojectPageData(this.urbanismProjects)\r\n      .subscribe((data) => {\r\n        if (data.message === 'success') {\r\n          this.msgService.successToaster('Uploaded successfully');\r\n          this.fetchData();\r\n          this.spinner.hide();\r\n        }\r\n      });\r\n  }\r\n\r\n  sideBarToogle() {\r\n    this.isSideBar = !this.isSideBar;\r\n  }\r\n\r\n  activeHover() {\r\n    this.draggable = false;\r\n  }\r\n\r\n  inactiveHover() {\r\n    this.draggable = true;\r\n  }\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n    moveItemInArray(\r\n      this.urbanismProjects,\r\n      event.previousIndex,\r\n      event.currentIndex\r\n    );\r\n  }\r\n  toTop() {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}